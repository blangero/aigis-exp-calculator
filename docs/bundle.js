var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function i(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function o(e){e.parentNode.removeChild(e)}function c(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function s(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function f(){return d(" ")}function p(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function m(e){return""===e?void 0:+e}function v(e,t){t=""+t,e.data!==t&&(e.data=t)}function g(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}let y;function $(e){y=e}const _=[],b=Promise.resolve();let x=!1;const q=[],L=[],M=[];function N(e){L.push(e)}function E(){const e=new Set;do{for(;_.length;){const e=_.shift();$(e),j(e.$$)}for(;q.length;)q.shift()();for(;L.length;){const t=L.pop();e.has(t)||(t(),e.add(t))}}while(_.length);for(;M.length;)M.pop()();x=!1}function j(e){e.fragment&&(e.update(e.dirty),r(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(N))}function O(e,t){e.$$.dirty||(_.push(e),x||(x=!0,b.then(E)),e.$$.dirty=n()),e.$$.dirty[t]=!0}function U(l,a,u,o,c,s){const d=y;$(l);const f=a.props||{},p=l.$$={fragment:null,ctx:null,props:s,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:null};let h=!1;p.ctx=u?u(l,f,(e,t)=>{p.ctx&&c(p.ctx[e],p.ctx[e]=t)&&(p.bound[e]&&p.bound[e](t),h&&O(l,e))}):f,p.update(),h=!0,r(p.before_render),p.fragment=o(p.ctx),a.target&&(a.hydrate?p.fragment.l(function(e){return Array.from(e.childNodes)}(a.target)):p.fragment.c(),a.intro&&l.$$.fragment.i&&l.$$.fragment.i(),function(e,n,l){const{fragment:a,on_mount:u,on_destroy:o,after_render:c}=e.$$;a.m(n,l),N(()=>{const n=u.map(t).filter(i);o?o.push(...n):r(n),e.$$.on_mount=[]}),c.forEach(N)}(l,a.target,a.anchor),E()),$(d)}class R{$destroy(){var t,n;n=!0,(t=this).$$&&(r(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}var V={iron:[0,32,65,100,135,172,211,250,291,333,418,506,598,693,791,893,998,1106,1218,1333,1503,1679,1862,2052,2249,2452,2662,2879,3103,3333],bronze:[0,35,72,110,149,189,232,275,320,366,460,557,658,762,870,982,1098,1217,1340,1466,1653,1847,2048,2257,2474,2697,2928,3167,3413,3666,3978,4301,4637,4984,5345,5718,6103,6501,6910,7334],silver:[0,38,78,120,162,206,253,300,349,400,502,607,718,832,949,1072,1198,1327,1462,1600,1804,2015,2234,2462,2699,2942,3194,3455,3724,4e3,4339,4692,5058,5437,5831,6238,6658,7092,7538,8e3,8678,9383,10115,10874,11662,12474,13315,14183,15078,16e3,17017,18074,19172,20312,21492],gold:[0,42,85,130,176,224,274,325,378,433,543,658,777,901,1028,1161,1297,1438,1583,1733,1954,2183,2421,2668,2924,3188,3461,3743,4034,4333,4701,5083,5480,5890,6317,6757,7212,7683,8167,8667,9402,10165,10958,11781,12633,13514,14425,15365,16335,17333,18435,19581,20770,22005,23283,24605,25970,27381,28835,30333,31802,33329,34917,36561,38266,40028,41850,43729,45669,47667,49503,51412,53395,55452,57582,59786,62062,64412,66836,69333,71904,74577,77354,80233,83214,86299,89487,92777,96170,99667,102237,104911,107687,110566,113549,116633,119820,123111,126504],platinum:[0,45,91,140,189,241,295,350,407,466,585,708,837,970,1107,1250,1397,1548,1705,1866,2104,2351,2607,2873,3149,3433,3727,4031,4344,4666,5062,5474,5901,6343,6803,7277,7767,8274,8795,9334,10125,10947,11801,12687,13605,14553,15534,16547,17591,18666,19853,21087,22368,23698,25074,26498,27968,29487,31053,32666,34248,35893,37603,39374,41209,43107,45069,47093,49182,51334,53311,55367,57502,59717,62012,64385,66836,69367,71977,74666,77435,80314,83304,86405,89615,92938,96370,99914,103568,107334,110102,112981,115970,119071,122283,125605,129037,132581,136235],black:[0,48,98,150,203,258,317,375,437,500,627,759,897,1040,1187,1340,1497,1659,1827,2e3,2255,2519,2793,3078,3374,3678,3993,4319,4655,5e3,5424,5865,6323,6797,7289,7797,8322,8865,9423,10001,10848,11729,12644,13593,14577,15593,16644,17729,18848,2e4,21272,22593,23966,25391,26865,28391,29966,31593,33272,35e3,36695,38457,40289,42186,44153,46187,48288,50457,52695,55001,57119,59322,61610,63983,66441,68984,71610,74322,77118,8e4,82967,86051,89255,92577,96017,99576,103254,107051,110966,115001,117966,121052,124254,127577,131018,134577,138254,142052,145967]};function k(e,t,n){const r=Object.create(e);return r.unitName=t[n][0],r.value=t[n][1],r}function C(e,t,n){const r=Object.create(e);return r.name=t[n],r}function w(e){var t,n,r,i,l,a=e.requiredMinLevel+1,c=V[e.selectedRarity][e.requiredMinLevel+1]-e.requiredMinValue||"-";return{c(){t=d("需先餵銅肥至 LV"),n=d(a),r=d(" ("),i=d(c),l=d(")。")},m(e,a){u(e,t,a),u(e,n,a),u(e,r,a),u(e,i,a),u(e,l,a)},p(e,t){e.requiredMinLevel&&a!==(a=t.requiredMinLevel+1)&&v(n,a),(e.selectedRarity||e.requiredMinLevel||e.requiredMinValue)&&c!==(c=V[t.selectedRarity][t.requiredMinLevel+1]-t.requiredMinValue||"-")&&v(i,c)},d(e){e&&(o(t),o(n),o(r),o(i),o(l))}}}function A(e){var t,n,r,i=-e.requiredMinValue;return{c(){t=d("經驗值溢出 "),n=d(i),r=d("。")},m(e,i){u(e,t,i),u(e,n,i),u(e,r,i)},p(e,t){e.requiredMinValue&&i!==(i=-t.requiredMinValue)&&v(n,i)},d(e){e&&(o(t),o(n),o(r))}}}function F(e){var t,n,r=e.name;return{c(){t=s("option"),n=d(r),t.__value=e.name,t.value=t.__value},m(e,r){u(e,t,r),a(t,n)},p(e,n){t.value=t.__value},d(e){e&&o(t)}}}function S(e){var t,n,r,i,l,c,m,v,g=e.unitName,y=e.value;function $(){e.input_input_handler.call(m,e)}return{c(){t=s("label"),n=d(g),r=d(" ("),i=d(y),l=d(")"),c=f(),m=s("input"),t.htmlFor=e.unitName,t.className="svelte-12rui1u",m.id=e.unitName,h(m,"type","number"),m.min="0",m.className="svelte-12rui1u",v=p(m,"input",$)},m(o,s){u(o,t,s),a(t,n),a(t,r),a(t,i),a(t,l),u(o,c,s),u(o,m,s),m.value=e.selectedUnits[e.unitName]},p(t,n){e=n,(t.selectedUnits||t.Object||t.expUnits)&&(m.value=e.selectedUnits[e.unitName])},d(e){e&&(o(t),o(c),o(m)),v()}}}function P(t){var n,i,l,m,y,$,_,b,x,q,L,M,E,j,O,U,R,V,P,z,B,I,T,X,D;function G(e){return e.requiredMinValue<0?A:w}for(var H=G(t),J=H(t),K=t.rarityNames,Q=[],W=0;W<K.length;W+=1)Q[W]=F(C(t,K,W));var Y=t.Object.entries(t.expUnits),Z=[];for(W=0;W<Y.length;W+=1)Z[W]=S(k(t,Y,W));return{c(){(n=s("h1")).textContent="Aigis EXP Calculator",i=f(),l=s("p"),m=d("共可獲得 "),y=d(t.totalExp),$=d(" 經驗。\n\n"),J.c(),_=f(),b=s("div"),(x=s("label")).textContent="稀有度",q=f(),L=s("select");for(var e=0;e<Q.length;e+=1)Q[e].c();M=f(),(E=s("label")).textContent="目標等級",j=f(),O=s("input"),U=f(),R=s("label"),V=s("input"),P=d("\n    使用育成聖靈"),z=f(),B=s("fieldset"),(I=s("legend")).textContent="聖靈︰",T=f(),X=s("div");for(e=0;e<Z.length;e+=1)Z[e].c();x.htmlFor="rarity",x.className="svelte-12rui1u",void 0===t.selectedRarity&&N(()=>t.select_change_handler.call(L)),L.id="rarity",L.className="svelte-12rui1u",E.htmlFor="goalLevel",E.className="svelte-12rui1u",O.id="goalLevel",h(O,"type","number"),O.className="svelte-12rui1u",h(V,"type","checkbox"),V.className="svelte-12rui1u",R.className="span-2 svelte-12rui1u",b.className="form-group svelte-12rui1u",X.className="form-group svelte-12rui1u",D=[p(L,"change",t.select_change_handler),p(O,"input",t.input0_input_handler),p(V,"change",t.input1_change_handler)]},m(e,r){u(e,n,r),u(e,i,r),u(e,l,r),a(l,m),a(l,y),a(l,$),J.m(l,null),u(e,_,r),u(e,b,r),a(b,x),a(b,q),a(b,L);for(var o=0;o<Q.length;o+=1)Q[o].m(L,null);g(L,t.selectedRarity),a(b,M),a(b,E),a(b,j),a(b,O),O.value=t.goalLevel,a(b,U),a(b,R),a(R,V),V.checked=t.sarietto,a(R,P),u(e,z,r),u(e,B,r),a(B,I),a(B,T),a(B,X);for(o=0;o<Z.length;o+=1)Z[o].m(X,null)},p(e,t){if(e.totalExp&&v(y,t.totalExp),H===(H=G(t))&&J?J.p(e,t):(J.d(1),(J=H(t))&&(J.c(),J.m(l,null))),e.rarityNames){K=t.rarityNames;for(var n=0;n<K.length;n+=1){const r=C(t,K,n);Q[n]?Q[n].p(e,r):(Q[n]=F(r),Q[n].c(),Q[n].m(L,null))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=K.length}if(e.selectedRarity&&g(L,t.selectedRarity),e.goalLevel&&(O.value=t.goalLevel),e.sarietto&&(V.checked=t.sarietto),e.Object||e.expUnits||e.selectedUnits){Y=t.Object.entries(t.expUnits);for(n=0;n<Y.length;n+=1){const r=k(t,Y,n);Z[n]?Z[n].p(e,r):(Z[n]=S(r),Z[n].c(),Z[n].m(X,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=Y.length}},i:e,o:e,d(e){e&&(o(n),o(i),o(l)),J.d(),e&&(o(_),o(b)),c(Q,e),e&&(o(z),o(B)),c(Z,e),r(D)}}}function z(e,t,n){const r=Object.keys(V);let i="iron",l=V[i].length;const a={"八倍白胖":8e3,"活動經驗包":1e4,"八倍皇帝":16e3,"小金祝/贈送祝聖":18e3,"小白祝":19e3,"小黑祝":2e4,"八倍黑胖":4e4,"大祝聖哈比":15e4},u=Object.fromEntries(Object.entries(a).map(([e])=>[e,0]));let o,c=0,s=0,d=!1;return e.$$.update=(e={sarietto:1,selectedUnits:1,selectedRarity:1,goalLevel:1,totalExp:1,requiredMinValue:1,requiredMinLevel:1})=>{if(e.sarietto||e.selectedUnits){n("totalExp",c=0);const e=d?11:10;for(const[t,r]of Object.entries(u))n("totalExp",c+=r*a[t]*e/10)}(e.selectedRarity||e.goalLevel||e.totalExp)&&n("requiredMinValue",o=V[i][l-1]-c),(e.selectedRarity||e.requiredMinValue||e.requiredMinLevel)&&(n("requiredMinLevel",s=V[i].findIndex(e=>e>o)),s<0&&n("requiredMinLevel",s=V[i].length),n("requiredMinLevel",--s),n("selectedRarity",i),n("requiredMinValue",o),n("goalLevel",l),n("totalExp",c),n("sarietto",d),n("selectedUnits",u))},{rarityNames:r,selectedRarity:i,goalLevel:l,expUnits:a,selectedUnits:u,totalExp:c,requiredMinLevel:s,sarietto:d,Object:Object,requiredMinValue:o,select_change_handler:function(){i=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n("selectedRarity",i),n("rarityNames",r)},input0_input_handler:function(){l=m(this.value),n("goalLevel",l)},input1_change_handler:function(){d=this.checked,n("sarietto",d)},input_input_handler:function({unitName:e}){u[e]=m(this.value),n("selectedUnits",u),n("Object",Object),n("expUnits",a)}}}return new class extends R{constructor(e){super(),U(this,e,z,P,l,[])}}({target:document.querySelector(".container")})}();
//# sourceMappingURL=bundle.js.map
